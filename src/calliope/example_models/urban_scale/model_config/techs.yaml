##
# TECHNOLOGY DEFINITIONS
##

# Note: '-start' and '-end' is used in tutorial documentation only

# interest_rate_setter-start
tech_groups:
  interest_rate_setter:
    cost_interest_rate:
      data: 0.10
      index: monetary
      dims: costs

  power_lines:
    name: "Electrical power distribution"
    color: "#6783E3"
    parent: transmission
    inherit: interest_rate_setter
    carrier_in: electricity
    carrier_out: electricity
    flow_cap_max: 2000
    flow_out_eff: 0.98
    lifetime: 25
    cost_flow_cap_per_distance:
      data: 0.01
      index: monetary
      dims: costs

  heat_pipes:
    name: "District heat distribution"
    color: "#823739"
    parent: transmission
    inherit: interest_rate_setter
    carrier_in: heat
    carrier_out: heat
    flow_cap_max: 2000
    flow_out_eff_per_distance: 0.975
    lifetime: 25
    cost_flow_cap_per_distance:
      data: 0.3
      index: monetary
      dims: costs
# interest_rate_setter-end

techs:
  ##-GRID SUPPLY-##
  # supply-start
  supply_grid_power:
    name: "National grid import"
    color: "#C5ABE3"
    parent: supply
    inherit: interest_rate_setter
    carrier_out: electricity
    source_max: .inf
    flow_cap_max: 2000
    lifetime: 25
    cost_flow_cap:
      data: 15
      index: monetary
      dims: costs
    cost_flow_in:
      data: 0.1 # 10p/kWh electricity price #ppt
      index: monetary
      dims: costs

  supply_gas:
    name: "Natural gas import"
    color: "#C98AAD"
    parent: supply
    inherit: interest_rate_setter
    carrier_out: gas
    source_max: .inf
    flow_cap_max: 2000
    lifetime: 25
    cost_flow_cap:
      data: 1
      index: monetary
      dims: costs
    cost_flow_in:
      data: 0.025 # 2.5p/kWh gas price #ppt
      index: monetary
      dims: costs
  # supply-end

  ##-Renewables-##
  # pv-start
  pv:
    name: "Solar photovoltaic power"
    color: "#F9D956"
    parent: supply
    carrier_out: electricity
    inherit: interest_rate_setter
    carrier_export: electricity
    source_unit: per_area
    area_use_per_flow_cap: 7 # 7m2 of panels needed to fit 1kWp of panels

    # Already accounts for panel efficiency - kWh/m2.
    # Source: Renewables.ninja Solar PV Power
    # Version: 1.1
    # License: https://creativecommons.org/licenses/by-nc/4.0/
    # Reference: https://doi.org/10.1016/j.energy.2016.08.060
    source_equals: file=pv_resource.csv:per_area

    flow_out_parasitic_eff: 0.85 # inverter losses
    flow_cap_max: 250
    area_use_max: 1500
    lifetime: 25
    cost_flow_cap:
      data: 1350
      index: monetary
      dims: costs

  # pv-end

  # Conversion
  # boiler-start
  boiler:
    name: "Natural gas boiler"
    color: "#8E2999"
    parent: conversion
    inherit: interest_rate_setter
    carrier_in: gas
    carrier_out: heat
    flow_cap_max:
      data: 600
      index: heat
      dims: carriers
    flow_out_eff: 0.85
    lifetime: 25
    cost_flow_in:
      data: 0.004 # .4p/kWh
      index: monetary
      dims: costs
  # boiler-end

  # Conversion_plus
  # chp-start
  chp:
    name: "Combined heat and power"
    color: "#E4AB97"
    parent: conversion
    inherit: interest_rate_setter
    carrier_in: gas
    carrier_out: [electricity, heat]
    carrier_export: electricity
    flow_cap_max:
      data: 1500
      index: electricity
      dims: carriers
    flow_out_eff:
      data: 0.405
      index: electricity
      dims: carriers
    heat_to_power_ratio: 0.8
    lifetime: 25
    cost_flow_cap:
      data: 750
      index: [[monetary, electricity]]
      dims: [costs, carriers]
    cost_flow_out:
      data: 0.004 # .4p/kWh for 4500 operating hours/year
      index: [[monetary, electricity]]
      dims: [costs, carriers]
    cost_export:
      data: file=export_power.csv
      index: [[monetary, electricity]]
      dims: [costs, carriers]
  # chp-end

  ##-DEMAND-##
  # demand-start
  demand_electricity:
    name: "Electrical demand"
    color: "#072486"
    parent: demand
    carrier_in: electricity

  demand_heat:
    name: "Heat demand"
    color: "#660507"
    parent: demand
    carrier_in: heat
  # demand-end

  ##-DISTRIBUTION-##
  # transmission-start

  X1_to_X2:
    from: X1
    to: X2
    inherit: power_lines
    distance: 10
  X1_to_X3:
    from: X1
    to: X3
    inherit: power_lines
    distance: 5
  X1_to_N1:
    from: X1
    to: N1
    inherit: heat_pipes
    distance: 3
  N1_to_X2:
    from: N1
    to: X2
    inherit: heat_pipes
    distance: 3
  N1_to_X3:
    from: N1
    to: X3
    inherit: heat_pipes
    distance: 4

# transmission-end
