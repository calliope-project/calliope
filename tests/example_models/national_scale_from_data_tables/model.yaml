# Model configuration: all settings that affect the built model
config:
  init:
    name: National-scale example model
    # What version of Calliope this model is intended for
    calliope_version: 0.7.0
    subset.timesteps: ["2005-01-01", "2005-01-05"] # Subset of timesteps
    mode: base

  build:
    ensure_feasibility: true # Switches on the "unmet demand" constraint

  solve:
    solver: cbc
    zero_threshold: 1e-10 # Any value coming out of the backend that is smaller than this (due to floating point errors, probably) will be set to zero

nodes:
  region1.techs: {demand_power, ccgt}
  region2.techs: {demand_power, battery}
  region1_1.techs: {csp}
  region1_2.techs: {csp}
  region1_3.techs: {csp}

data_tables:
  dimensionless_params:
    table: data_tables/dimensionless_params.csv
    rows: inputs

  costs_params:
    table: data_tables/costs_params.csv
    rows: costs
    columns: inputs

  nodes_base_info:
    table: data_tables/nodes_base_info.csv
    rows: nodes
    columns: inputs

  techs_carriers_at_nodes:
    table: data_tables/techs_carriers.csv
    rows: techs
    columns: inputs
    add_dims:
      carriers: power

  links:
    table: data_tables/links.csv
    rows: techs
    columns: inputs

  techs_costs_monetary:
    table: data_tables/techs_costs_monetary.csv
    rows: techs
    columns: inputs
    add_dims:
      costs: monetary

  # will be loaded from the example model directory in calliope source code.
  time_varying_data_from_df:
    table: time_varying_df
    rows: timesteps
    columns: [comment, nodes, techs, inputs]
    drop: comment

  techs_base_info:
    table: data_tables/techs_base_info.csv
    rows: techs
    columns: inputs

  techs_constraints:
    table: data_tables/techs_constraints.csv
    rows: techs
    columns: inputs

  techs_node_constraints:
    table: data_tables/techs_node_constraints.csv
    rows: [nodes, techs]
    columns: inputs
