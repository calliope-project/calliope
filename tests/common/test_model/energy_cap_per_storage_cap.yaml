config:
  init:
    name: Test model for energy capacity per storage capacity
    time_data_path: "timeseries_data"
    time_subset: ["2005-01-01 00:00", "2005-01-01 01:00"]

  build:
    mode: plan
    cyclic_storage: False # necessary so demand can be fed from stored energy
    ensure_feasibility: true
  solve:
    solver: cbc

techs:
  electricity_demand:
    essentials:
      name: Electricity demand
      carrier: electricity
      parent: demand
    constraints:
      sink_equals: file=demand_elec.csv
  my_storage:
    essentials:
      name: Storage
      carrier: electricity
      parent: storage
    constraints:
      storage_initial: 1.0
      lifetime: 60
    costs:
      monetary:
        flow_out_cap: 1500000
        storage_cap: 300000
        interest_rate: 0.1

nodes:
  a.techs:
    my_storage:
    electricity_demand:

overrides:
  max:
    techs.my_storage.constraints.flow_out_cap_per_storage_cap_max: 0.01
  min:
    techs.my_storage.constraints.flow_out_cap_per_storage_cap_min: 1
  operate_mode_min:
    techs.my_storage.constraints.flow_out_cap_per_storage_cap_min: 1
    config:
      build.mode: operate
      solve.operate_window: 24
      solve.operate_horizon: 24
